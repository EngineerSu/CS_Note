## 正则表达式

Regular Exception, 简称regex, 正则表达式本身也是一个字符串, 它用来匹配字符串的全部或部分内容.

### 匹配规则

regex内容是区分大小写的

**匹配一个字符**

```
"x" : 匹配一个字符"x"
"\\" : 匹配一个字符"\"
"\t \n \r" : 分别匹配制表符, 换行符, 回车符
	换行符: 光标在原有位置的下一行
	回车符: 光标来到下一行的行首
```

**范围匹配**

`"[]"`表示占一个位置

```
"[abc]" : 匹配"a" "b" "c"中的一个
"[^abc]" : 匹配除了"a" "b" "c"中三个字符外的任意一个字符
"[0-9]" : 匹配0-9中的任意一个数字字符
"[a-z]" : 匹配a-z中的任意一个小写字母字符
"[a-zA-Z_0-9]" : 匹配数字,字符或下划线中的任意一个字符
```

**预定义匹配**

"\d" 匹配任意一个数字字符, 但是写regex时, 在字符串里是"\\d" (因为'\'是转义字符, 而"\d"中的\是需要的字符, 所以得在其前面再加一个\对它转义). 即在regex中`"\\"`其实是表示一个\, 所以比如要以"|"分割一个字符串, 它的regex是`"\\|"`

```
"." : 匹配任意一个字符
	如果就是要匹配'.'字符,那么regex中用"\\."匹配'.'字符
"\d" : 等同于范围匹配的"[0-9]" , 可以匹配任意一个数字字符
"\D" : 匹配任意一个不是数字的字符
"\w" : 等同于范围匹配的"[a-zA-Z_0-9]", 可以匹配任意一个数字,字母或下划线字符
"\W" : 等同于范围匹配的"[^a-zA-Z_0-9]"
"\s" : 等同于范围匹配的"[\t\n\r\f]",可以匹配任意一个非字母字符
"\S" : 匹配一个字符,范围是"\s"的相反范围 
```

**边界匹配**

```
"^x" : 匹配以x作为开头的字符串, 如"x7b"
"x$" : 匹配以x作为结尾的字符串, 如"x7bx"
"\b" : 匹配单词的边界(空格/首字母/尾字母),如"\ba\b"匹配的字符串要求a字符两边是非单词字符(单词字符:[a-zA-Z_0-9])
```

**数量匹配**

```
"x?" : 表示x字符出现1次或0次
"x*" : 表示x字符出现0次或多次
"x+" : 表示x字符出现1次或多次
"x{n}" : 表示x字符恰好出现n次
"x{n,}" : 表示x字符最少出现n次
"x{n,m}" : 表示x字符最少出现n次,最多出现m次
```



### 支持regex的字符串方法

**matches**

```java
boolean matches(String regex)
```

**split**

```java
String[] split(String regex) // 返回由regex切割出的字符串数组
```

**replaceAll**

```java
// 用rep替换所有满足regex的字符串部分
String replaceAll(String regex, String rep) 
    "1abc123".replaceAll("\\d+", "#") // 替换后的字符串为"#abc#"
```



### 常见的正则匹配

**数字类型**

```
匹配整数: "-?\\d+"
匹配小数: "-?\\d+\\.\\d+"
匹配保留两位小数: "-?\\d+\\.[\\d]{2}"
```

**邮箱类型**

```
\\w+@\\w+(\\.\\w+)+
```



