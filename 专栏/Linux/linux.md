## linux

### shell基础

shell即外壳，它是介于内核和用户之间，使用shell可以将用户的需求翻译到内核中执行，最后驱动硬件进行一定的操作，因为常说的linux命令，其实都是shell命令。linux系统默认的shell是bash

#### 系统管理命令

```
[date]				查看系统时间
[df -h]				显示虚拟区的磁盘信息
[free -m]			显示内存信息(友好)
[top]				任务管理器的效果:q退出
[clear]		  		清屏命令,快捷键:Ctrl+L
[who]				显示当前登录用户
[hostname]			显示主机名(修改主机名需要重启)
[uname -a]			显示当前系统所有信息
[id]				查看当前用户oid,uid等信息
```

```
[ps]				正在运行的进程状态
	[ps-ef]			查看所有进程 
	[ps -ef | grep ssh] 在所有的进程中查找
[kill 进程ID]		   杀进程
	[kill -9 进程ID] 强制杀进程
[du -h]				显示当前目录下所有子目录的大小(不显示文件)
[man 指令名]     	  查看指令帮助文件,如:[man mkdir]
[pwd]				显示当前工作目录
[wget 资源路径]	 	  下载资源
```

```
[ifconfig]				查看所有的网络设备
	[ifconfig 网卡名 down]	禁用网卡
	[ifconfig 网卡名 up]	启用网卡
[ping ip地址]			   探测网络是否通畅,Ctrl+C停止
[netstat -an]			查看所有端口号
```



#### 排查问题常用命令

查看进程CPU占用情况

```
top
```

查看进程IO情况

```
iotop -op
```

只显示有IO行为的进程信息

```
pidstat -d 1
```

展示I/O统计，每秒更新一次

查看GC情况

```linux
jstat -gc [pid] [time]
```

time的时间为ms，表示每隔一定的时间刷新进程号为pid的java进程gc情况。如下图

![1568946098976](img/linux/1568946098976.png)

其中主要内容为：各区的内存容量，使用容量；以及YGC和FGC的次数和时间。参数含义如下：

```
S0C、S1C、S0U、S1U：Survivor 0/1区容量（Capacity）和使用量（Used）
EC、EU：Eden区容量和使用量
OC、OU：年老代容量和使用量
PC、PU：永久代容量和使用量
YGC、YGT：年轻代GC次数和GC耗时
FGC、FGCT：Full GC次数和Full GC耗时
GCT：GC总耗时
```

查看某个java进程中线程CPU占用情况

```
top -p [pid] -H
```

导出java进程所有栈信息

```
jstack [pid]>stack.log
```

然后，可以在stack.log中通过查找某个线程id的栈信息，即可查看为什么它占用那么高的内存。注意stack.log中线程id存的是16进制，因此grep查询时需要先将id转换成16进制

导出堆内存dump文件

```
jmap -dump:file=[文件地址+文件名] [pid]
```

**查看端口的占用情况**

```shell
# 1001是端口号
netstat -anvp | grep 1001

# mac需要指定通信协议
# 查询int
netstat -anvf inet | grep 1001
# 查询tcp
netstat -anvp tcp | grep 1001
# 查询udp
netstat -anvp udp | grep 1001
```

查询到端口占用情况后，可以使用`kill -p [pid]`命令杀掉无用进程



#### 输出重定向

命令默认输出到控制台，使用输出重定向则会将命令的输出写入到指定的文件中，可以指定写入方式为覆盖或追加，同时命令输出内容还分为正确输出和错误输出

```
cmd > filePath 命令正确输出内容覆盖文件
cmd >> filePath 命令正确输出内容追加到文件中
cmd 2> filePath 命令错误输出内容覆盖文件
cmd 2>> filePath 命令错误输出内容追加到文件中
cmd &> filePath 命令所有输出内容覆盖文件
cmd &>> filePath 命令所有输出内容追加到文件中
cmd >> filePath1 2>>filePath2 将命令正确和错误输出分开保存
```

因为命令是默认会输出到控制台的，对于某些命令，只用它执行，并不想展示和记录它的输出（无论正确or错误执行），此时可以使用`cmd &>> /dev/null`即可实现，`/dev/null`可以理解为linux中的垃圾箱



#### 多命令执行顺序

- `cmd1 ; cmd2`：命令1执行完后，执行命令2，两者可以没有任何关系。也可以级联多个命令

  常用例子：`data ; cmd1 ; date`，可以通过查看两个`date`命令的输出，判断cmd1命令的执行时间

- `cdm1 && cmd2`：命令1成功执行，命令2才会执行

- `cmd1 || cmd2`：命令1成功执行，命令2不会执行；命令1执行失败，命令2才执行

  常用例子：`cmd && echo yes || echo no`，通过这个命令结果是否为yes，系统可以判断命令是否执行正确



#### 管道符和grep

将左边命令的输出作为右边命令的输入

`ps -ef | grep java [选项]`：查找和java相关的进程

其中选项可以有：

- `-n`：显示行号
- `-i`：忽略大小写
- `-v`：反向查找
- `--color=auto`：查找结果着色显示



#### 通配符

shell中通配符用于在系统中搜索符合条件的文件名，要求**完全匹配**。常见搭配使用命令有`ls`、`cp`和`find`等

- `?`：匹配任意一个字符

- `*`：匹配0个或多个任意字符（匹配范围最大）

  如`ll *servie*`：显示文件名包含了service的文件信息(即使是目录)

- `[]`：匹配括号中范围内的任意一个字符，如`[abc]`、`[a-z]`；加上`^`代表取反

  如`[^0-9]`代表匹配任意一个非数字字符



#### 特殊符号

- `#`：注释

- `$`：用于调用变量的值

- `\`：转义符，让紧随其后的特殊符号作用消失，如`echo "\$sc"`的输出结果是`$sc`

- `''`和`""`：单引号和双引号在linux中都是为了将分割的部分拼凑成一个整体。但是`''`中所有字符都当做字符来看待，不会有特殊含义。而`""`中的特殊字符会有特殊作用，比如`$`、``` `、`\`作用分别是：调用变量的值、引用命令和转义字符

  比如定义了`sc=jack`，使用`echo '$sc'`输出内容是`$sc`，而`echo "$sc"`输出内容是`jack`

- `$() `：表示括号中的内容会被当做shell命令执行，比如赋值语句的右边如果是命令，需要使用`$()`将右边部分括起来，不然会当作字符串



#### 编写第一个shell脚本

1. 使用`vim echo.sh`编辑，脚本内容如下

   ```shell
   #!/bin/bash
   # 注意上面不是注释，所有shell脚本第一行都得是 #!/bin/bash
   
   echo 'hello world!'
   ```

2. 使用`chmod 755 echo.sh`让所有用户都能执行该命令

3. 使用`./echo.sh`（或绝对路径）执行该脚本命令，或使用`bash hello.sh`执行该脚本



#### 给shell脚本一个别名

如上，你创建了一个hello.sh的shell脚本，但是每次执行都需要使用`bash /Users/jacksu/Downloads/hello.sh`命令难免太复杂，能不能像使用`ll`系统命令一样，简单的执行自己创建的shell脚本呢？

使用`alias hello=/Users/jacksu/Downloads/hello.sh`，即为hello.sh创建了别名：hello，然后在任何位置直接输入`hello`就会发现能成功执行你的脚本。这里有两点需要注意：

- 脚本路径不要使用相对路径，不然该脚本就只能在相对路径中被执行
- 这里创建的是临时别名，重启shell后，别名就会失效

使用`alias`再回车可以查看所有shell脚本别名



#### 命令执行的顺序

1. 绝对路径的.sh文件
2. 别名
3. Bash的内部命令
4. $PATH环境变量定义的目录去查找该命令

使用`whereis [cmdName] `可以查看命令的.sh文件路径（bash系统的内部）



#### 变量

##### bash变量特点

- 默认变量都是字符串类型，如果要进行数值计算，需要使用`c=$(($a+$b))`或`c=$[$a+$b]`的形式
- 变量使用`=`赋值，`=`左右两边不能有空格，如果值有空格需要用`''`或`""`括起来
- 使用`$name`调用变量，使用`set`命令查看所有变量，使用`env`查看所有环境变量，使用`unset name`删除某变量的值（环境变量也可以删除）

##### 环境变量

有部分固定的系统环境变量，也可以增加环境变量。

使用`export name=value`可以新写入环境变量（只是在当前shell临时生效），使用`env`可以查看所有环境变量值，使用`unset name`删除。常用`export PATH="$Path":/User/jacksu/bin`临时增加寻找命令的目录

以上的改变都是临时的，若想永久生效，需要直接修改环境变量的配置文件。环境变量的配置文件如下：（按加载顺序排列，/etc对所有用户生效，~/只对指定用户生效）

- `/etc/profile`：
- `~/.bash_profile`
- `~/.bashrc`
- `/etc/bashrc`

使用`source etcFilePath`可以使修改的配置文件立即生效。注意，若替换了默认的bash（如使用了zsh），那么以上的配置文件可能会相应的变化（比如zsh的相关配置以及环境的变量的导入，可以修改`~/.zshrc配置文件`）

##### 位置参数变量

- `$n`：用来接收输入到脚本的参数，`$0`表示命令本身，参数用空格隔开；参数数量大于9时，需要使用`${10}`类似这样的形式接收参数

  如脚本echo_test.sh内容如下：

  ```shell
  #!/bin/bash
  echo $0
  echo $1
  echo $2
  ```

  使用`./echo_test.sh sc dml`执行该命令，结果如下：

  ```
  ./echo_test.sh
  sc
  dml
  ```

- `$*`：代表所有参数，但是会把所有的输入参数看做一个整体

- `$@`：代表所有参数，会把所有参数区分对待(可遍历)

- `$#`：代表输入参数的数量

##### 预定义变量

bash中定义好的变量，作用也是固定的，也不能新增

- `$?`：能够表示上一条命令的执行结果，规定执行成功时返回0，执行错误时返回数字由上一条命令自己决定
- `read [选项] [变量名]`：接收用户输入
  - `-p`：提示信息
  - `-t`：等待输入的时间（单位：秒）
  - `-n`：字符数，满字符数后就会停止接收
  - `-s`：隐藏用户输入



### shell编程

#### 正则表达式

shell中正则表达式用于在文件中搜索符合条件的**字符串**（以行为单位，和通配符使用情景不同），正则是**包含匹配**。常用搭配命令有`grep`、`sed`、`awk`等

- `*`：代表前一个字符重复0次或任意多次，如`ab*`可以匹配abbb

- `.`：匹配除了换行符的任意一个字符

- `^`：匹配指定字符(串)开头，如`^abc`匹配abcdabc

- `$`：匹配指定字符(串)结尾，如`abc$`匹配abcdabc

- `[]`：匹配括号中范围内的任意一个字符，如`[abc]`、`[a-z]`；加上`^`代表取反

  如`[^0-9]`代表匹配任意一个非数字字符

- `\`：转义符，取消特殊符号的作用，如`\*`匹配12*3

- `\{n\}`：代表前面字符恰好出现n次

- `\{n,\}`：代表前面字符至少出现n次

- `\{n,m\}`：代表前面字符至少出现n次，最多出现m次

易错：

- `a*`：这个可以匹配任意字符串，因为它可代表空（*作用为0个时）
- `^$`：匹配空白行



#### 字符截取命令

##### cut

`cut [选项] 文件全路径名`

可供选项有：

- `-d`：指定分隔符，默认是制表符(非空格)
- `-f`：指定提取列，多列用`,`隔开

cut一般与管道符和grep命令一起使用，目的是为了提取文档中的指定内容



##### printf

格式化输出命令：`printf '输出类型输出格式' 输出内容`

输出类型：

- `%ns`：输出n个字符的字符串
- `%ni`：输出n个整数
- `%m.nf`：输出浮点数，指定了整数位和小数位

常用输出格式：

- `\n`：换行
- `\t`：制表符
- `\r`：回车

与`print`的区别：`print`不是系统命令，只能在`awk`中使用，会自动换行。



##### awk

当`cut`不能完成需要的分割时，才考虑使用`awk`

`awk '条件1{动作1}条件2{动作2}...' 文件名`：条件可省略，代表无条件，每行的第n列使用`$n`引用

举例：`awk 'BEGIN{printf "This is test script\n"}{printf $2 "\t" $5 "\n"}' test.txt`

说明：`BEGIN`是awk的内置条件，表示读取数据前；第二个`{}`前没有条件，表明所有行都执行动作二；因此该例子就是将test.txt中第二列和第五列内容分行打印出来，用制表符隔开



##### sed

轻量级的流编辑器，可以对数据进行选取、替换、删除和新增

`sed [选项] '动作' 文件名`

选项：

- `-n`：只输出经过sed处理的行（不加会输出经过sed处理后的所有行，比如删除动作不加-n，会展示剩下未被删除的行）
- `-e`：允许多个动作同时指向，多个命令使用`;`隔开
- `-i`：sed对流的更改会覆盖到源文件中

动作：

- `p`：打印
- `d`：删除
- `a`：追加
- `i`：插入
- `c`：行替换
- `s`：字符串替换

例子：

- `sed -n '2p' test.txt`：打印文件的第二行
- `sed -i '2,4d' test.txt`：删除文件的第2-4行（加了`-i`会改变源文件）
- `sed '2a hello\world text.txt'`：在第2行后增加两行，分别为hello和world（`\`表示换行）
- `sed '2i hello\world' test.txt`：在第2行前增加两行
- `sed '2c tihuanLine' test.txt`：将第2行替换为tihuanLine
- `sed '2s/44/88/g' text.txt`：将第2行的44替换为88
- `sed 's/44/88/g' text.txt`：将每行的44替换为88
- `sed 's/44/88/g ; 2s/55/100/g' test.txt`：将每行的44替换为88，将第二行的55替换为100



#### 字符处理命令

##### sort

`sort [选项] 文件名`：将文件的行进行排序

选项：

- `-f`：忽略大小写
- `-n`：以数值进行排序，默认按字符串排序
- `-r`：反向排序
- `-t`：指定分隔符，默认使用制表符分隔
- `-k n[,m]`：指定排序字段的列，默认第一列，m默认到最后一行

例子：

`sort -n -r -t ':' -k 3,3 test.txt`：使用`:`作为分隔符，以第三列的数值大小倒序排列



##### wc

`wc [选项] 文件名`：统计文件信息，不加选项，默认统计全部信息（行数、单词数、字符数）

选项：

- `-l`：仅统计行数
- `-w`：仅统计单词数
- `-m`：仅统计字符数



#### 流程控制

##### 条件判断

文件类型判断：

- `-e`：判断文件是否存在
- `-d`：判断文件是否存在 且 是否为目录文件
- `-f`：判断文件是否存在 且 是否为普通文件

文件权限判断：

- `-r`：文件拥有读权限（权限不分用户，只要有即为真）
- `-w`：文件拥有写权限
- `-x`：文件拥有可执行权限

文件之间判断：

- `filePath1 -nt filePath2`：文件1是否比文件2新（修改时间更新）
- `filePath1 -ot filePath2`：文件1是否比文件2旧
- `filePath1 -ef filePath2`：文件1与文件2硬连接是否一致

数字判断：

- `num1 [比较符] num2`
- 比较符：`-ge` `-eq` `-le`

字符串判断：

- `-z 字符串`：字符串为空返回true
- `-n 字符串`：字符串不为空返回true
- `字符串1==字符串2`
- `字符串1!=字符串2`

多重判断：

- `判断1 -a 判断2`：两个判读逻辑与操作
- `判断1 -o 判断2`：两个判断逻辑或操作
- `!判断1`：取反

使用：

- `test -e /root/test.log`
- `[ -e /root/test.log ]`

以上两种都可，第二种更常见。使用以上命令后，再使用`$?`可以获取该命令结果（0：true），但是更常用的是与逻辑符结合使用，如：

`[ -e /root/test.log] && echo "ture" || echo "false"`：该命令相当于一个判断



##### if语句

条件判断中很多命令都可以用if语句代替。条件判断语句优势是简短，if语句优势是语义清晰。

```shell
if [ 条件判断式 ]; then
	执行体
fi

if [ 条件判断式 ]; then
	执行体1
else
    执行体2
fi

if [ 条件判断式1 ]; then
	执行体1
elif [ 条件判断式2 ]; then
    执行体2
...省略elif
else
	执行体n	
fi
```

注意`[ 条件判断式 ]`中，条件判断式和`[]`的两个空格不能省略



##### case语句

类似于if的多分支，适用于值比较。

```shell
case $name in
	"value1")
		执行体1
		;;
	"value2")
		执行体2
		;;
	...省略更多值
	*)
		默认执行体
		;;
esac
```

注意，默认执行体可以没有



##### for循环

```shell
# 语法1:values中所有值会赋值给val，然后执行执行体; values中内容只要是隔开的，就认为是分隔的
# 适用于迭代列表
for val in 迭代体
	do
		执行体（注意这里调用变量应该使用$val）
	done
	
# 语法2
# 适用于固定循环次数
for((i=1;i<=100;i=i+1))
	do
		执行体
	done
```



##### while循环与until循环

与for循环相比，while循环是不定循环，它有判断条件，若判断条件一直为true，可能死无限循环。

```shell
# 注意执行体里一定要改变条件判断式，不然可能会死循环
while [ 条件判断式 ]
	do
		执行体
	done
	
# until与while相反，条件判断式成立时才退出循环
until [ 条件判断式 ]
	do
		执行体
	done
```



### 定时任务

`crontab [选项]`

选项：

- `-e`：新增一个定时任务
- `-l`：查看当前用户所有定时任务
- `-r`：删除当前用户所有定时任务

定时任务内容格式：

```shell
* * * * * command
0 0 * * * *
```

每一个`*`都代表一个重复时间单位，写`*`代表任意时间，写数值代表具体时刻

- 第一个*：0-59，代表一个小时的第几分钟
- 第二个*：0-23，代表一天中第几个小时
- 第三个*：1-31，代表一月中的第几天
- 第四个*：1-12，代表一年中的第几个月
- 第五个*：0-7，代表一周中的星期几（0和7都代表周日）；建议周几和天数值不要在同一个定时任务出现，因为它们都代表天，容易混淆

特殊符号：

- `*`：代表任何时间
- `,`：代表不连续的时间范围
- `-`：代表连续的时间范围
- `*/n`：代表每隔n时间单位执行

举例：

```shell
*/10 0-4 * 1,3,5,7,8,10,12 1  /root/test.sh
```

以上定时任务会在每个有31天的月份里，每周一的凌晨0-4点，每隔10min执行一次test.sh脚本



### vi和vim编辑器

#### 三种模式

命令模式：使用`vim [fileName]`即进入了命令模式，此时输入的每一个字母都是命令

插入模式：在命令模式下，输入`i`或`o`（i、o比较常用，还有a、A、I、O）会进入插入模式，`i`插入模式下，输入的字符会插入在光标处，`o`插入模式下，输入的字符会插入到光标的下一行。按`Esc`退出插入模式

编辑模式：在命令模式下，输入`:`会进入编辑模式。在编辑模式下可以保存/退出，可以设置文件显示行号等

#### 常用的命令

##### 命令模式

跳转

```
gg 到文件第一行
G 到文件最后一行
0 到行首
$ 到行尾
```

编辑

```
u 撤销操作
x 删除光标所在的字符
D 删除光标至行尾的字符
dd 删除所在行字符
dgg 从该行删除到文件首
dG 从该行删除到文件尾
dd+p dd删除，再移动光标按p，可以将删除行内容剪切到光标所在下一行
yyp 复制当前行到光标下一行
yyP 复制当前行到光标上一行
```

搜索

```
/[keyword] + 回车 搜索keyword(严格区分大小写)，使用 n 继续查找
若想不区分大小写搜索，可以使用 :set ic 来设置（使用 :set noic 切回严格区分大小写搜索）
```

##### 插入模式

```
a(A) i(I) o(O)：插入的位置不同，常用i：在光标处插入
```

##### 编辑模式

```
:set nu 显示行号
:set nonu 取消显示行号
:n 到第n行

:wq 保存退出
:q! 不保存退出
```



### 用户管理和组管理

#### 1.用户管理

(1)添加/删除用户

```
----在home目录下才能添加用户----
[useradd 用户名]			添加用户,为用户在home下新建一个目录,目录名 默认为用户名
	[useradd 用户名 -d /home/目录名]	添加用户,自定义用户目录名
[passwd 用户名]			添加用户后设置/修改密码
[userdel 用户名]			删除用户,不删除其对应的目录
	[userdel -r 用户名]	删除用户及对应的目录
```

(2)切换用户

```
su - 用户名				便捷的切换用户
	从root切换到其他用户不需要密码,从其他用户切换到root用户需要密码
	[exit]				  退出刚才登录的用户
su 切换到管理员账户
```

#### 2.组管理

> 了解:添加组,删除组;默认组就是用户名

### 文件权限

(1)linux三种文件类型

```
普通文件		目录文件		设备文件(声卡等)
ll展示的文件列表中:"-"开头的是普通文件	"d"开头的是目录文件
```

(2)文件权限

```
r(4):读		w(2):写		x(1):执行
9个字母3个一组:第一组[当前用户权限],第二组[组的权限],第三组[其他用户权限]
用0~7可以表示所有可能的权限组合,3组9字母也就变成了3组3数字
```

(3)修改文件的读/写/执行权限

```
修改文件权限:只有当前用户自己创建的文件夹,TA才能修改文件权限
[chmod]--[chmod 755 a.txt]--[chmod u=rwx,g=rx,o=rx a.txt]
	[chmod 777 a.txt] [chmod 000 a.txt] 	常用的两种权限
```

(4)修改文件所属用户和组

```
[chown user:group a.txt]			将文件归属设为组group和用户user
	[chown -R user:group a.txt]		将文件及所有子文件归属设为组group和用户user
```



### zsh

#### 常用插件

autojump：提供了`j [key]`和`jo [key]`两个命令，可以快速跳转和打开目录

autosuggestions：使用 → 可以快速提示自动补全，具有记忆最近输入的功能

zsh-syntax-highlighting：日常命令高亮，错误命令会显示红色，文件名会加下划线

#### 常用命令

- `history`：查看历史命令（`history -c 会清空历史命令`）
  - 如`history | grep "git clone"`，就可以查看最近clone了哪些地址，配置`j`命令可以快速跳转
- `j [key]`：快速跳转目录，key是最近使用`cd`命令进去的目录路径包含的关键词
  - 如使用`cd ~/test/asip/logs`进去过logs目录，那么使用`j asip`就可以快速再次进入这个目录
  - `jo [key]`：与`j [key]`类似，但不是在终端中打开，而是打开文件管理器进入该路径

#### shell快捷键

```cof
# 搜索
ctrl + r    搜索命令历史
history | grep "key" 搜索命令

# 编辑
ctrl + a    到行首
ctrl + e    到行尾
ctrl + u    清除当前行（ctrl + y会粘贴刚才清除项）
ctrl + l    清屏
ctrl + c    停止当前任务

### iterm2快捷键 ###
# 标签操作
command + t 新建标签
command + w 关闭标签
command + 数字 跳转标签
command + 左右方向键 切换标签

# 屏幕操作
command + enter 切换全屏
command + d 水平分屏
command + shift + d 垂直分屏

# 在hotkey中可以自定义快捷键
cmd + =  显示/隐藏所有iterm2界面
```





### 工具使用

### Arthas

> https://www.atatech.org/articles/46966?spm=ata.13269325.0.0.742d49fa37KLbZ

安装：

```shell
curl -L http://start.alibaba-inc.com/install.sh | sh
```

可以安装在任意目录，安装后使用`./as.sh`启动，启动后需要选择监听的java程序，看到ARTHAS字符后，表示启动成功

常用命令：

**trace**：监听方法一级链路及时长

```shell
trace com.alibaba.sample.petstore.web.store.module.screen.ItemList add params.length==2
```

其中`com.alibaba.sample.petstore.web.store.module.screen.ItemList`是类全路径名，`add`是方法名，`params.length==2`表示要监听方法名为add且方法参数有个的方法

注意：该命令判断时长只能看一级深度



## 常用命令

### 文件信息

#### 查看目录/文件大小

```shell
du -h：查看当前目录下所有的文件夹（包含子文件夹）占用磁盘大小，以及当前目录总占用磁盘的大小
du -h --max-depth=1：du -h：查看当前目录下所有的文件夹（不包含子文件夹）占用磁盘大小，以及当前目录总占用磁盘的大小
du -sh：查看当前目录总占用磁盘的大小

ls -Slh：按降序查看当前文件夹下，所有文件占用磁盘的大小（不包含目录）
```



编辑命令

```
ctrl + A：回到行首
ctrl + E：回到行尾
ctrl + U：删除整行
ctrl + K：从当前位置删除至行末
```



切换目录

```
[cd 目录路径]		切换目录
	[cd ..]		   上一级目录
	[cd /]		   根目录(最顶层) 
	[cd ~]	       用户根目录(超级管理员:root目录 普通用户:home下用户目录)
```

创建目录和删除目录

```
[mkdir 目录名]		创建目录
	[mkdir -p]	  多层目录
[rmdir 目录名]		删除目录(只能删除空目录-空目录下没有子目录和文件)
```

展示目录下的文件列表

```
[ls]				展示可见的文件名
	[ls -l]			展示文件长度等详细信息(长度无单位,命令缩写:ll)
	[ls -a]			展示所有(包括隐藏)的文件名-文件名有"."表示隐藏文件
	[ls -lh]		展示文件长度等详细信息(长度有单位)
常用组合:[ll] [ll -h] [ll -a] 

[pwd] 展示当前目录的全路径名
```

浏览文件

```
[cat 文件]			只能查看尾部,不能翻页
[less 文件]		 	分页展示:用pageup/pagedown翻页,上下箭头换行,按q退出
[tail -n]		     查看文件尾部内容:显示后面的n行
	[tail -f]		 滚动查看文件,Ctrl+C 结束滚动查看
```

操作文件

(1)创建文件

```
[touch 文件名]		创建一个空白的文件
```

(2)复制和移动文件

```
[cp 文件 目录或文件]	复制文件到某个目录中,或复制替换某个文件
[mv 文件 目录或文件]	移动...移动操作可以实现重命名
```

(3)删除文件

```
[rm 文件]				带询问的删除
	[rm -f 文件]		不带询问的删除
	[rm -r 文件]		带询问的递归删除
	[rm -rf 文件]		不带询问的递归删除
```

(4)复制和粘贴

```
终端下: Ctrl + Shift + C | Ctrl + Shift + V
控制台: 用鼠标选中即是复制(Ctrl + Insert) | 单击鼠标滚轮即为粘贴(Shift + Insert)
```

打包或解压

打包的格式:gz	压缩的格式:tar.gz

```
格式:[tar -XXX 新文件名 要打包|解压的文件 -C 解压到哪个目录]

[tar -cvf]		打包一个文件
[tar -zcvf]		打包并压缩一个文件(zip格式)
[tar -xvf]		打开或解压一个文件
```

查找

`grep [选项] 关键词 文件名 `

选项有：

- `-v`：对结果取反
- `--color`：加粗显示
- `--color --An`：加粗显示前n行
- `--color --Bn`：加粗显示最后n行

```
格式:[grep 关键词 文件 XX]
[grep 关键词 文件 --color]:加粗显示
[grep 关键词 文件 --color --A2]:加粗显示查找到内容的前面两行
[grep 关键词 文件 --color --B2]:加粗显示查找到内容的后面两行
```

打印

`echo [选项] 变量名`

选项有：

- `-e`：echo命令默认不转义，加上`-e`才转义

​                                                           



